var TSC=TSC||{};TSC.textSanitizer=(function(){return{htmlEncode:function(b,a){if(b){if(a){return b.replace(/&/g,"&amp;").replace(/(<|&amp;lt;)/g,"&lt;").replace(/(>|&amp;gt;)/g,"&gt;").replace(/&amp;amp;/g,"&amp;")}else{return b.replace(/&/g,"&amp;").replace(/("|&amp;quot;)/g,"&quot;").replace(/(<|&amp;lt;)/g,"&lt;").replace(/(>|&amp;gt;)/g,"&gt;").replace(/&amp;amp;/g,"&amp;")}}else{return b}}}}());var TSC=TSC||{};TSC.videoAnalytics=(function(){var f;var h;var j=0;var a=[{duration:300000,segmentLength:2000},{duration:1800000,segmentLength:5000}];var i=30000;var g;var b;var c=0;var e;var d=false;return{setVideoLoadStartTime:function(k){f=k},setVideoLoadEndTime:function(k){h=k},getVideoLoadTime:function(){var k=0;if(f&&h){k=h-f}return k},getNumberSegments:function(){return g},getNumberWatchedSegments:function(){return c},isPercentWatchedInitialized:function(){return j>0},clearPercentWatched:function(){j=0},initPercentWatched:function(l){if(l<=0){return}j=l;for(var k=0;k<a.length;k++){if(l<=a[k].duration){i=a[k].segmentLength;break}}b=[];g=Math.ceil(l/i);for(k=0;k<g;k++){b.push(false)}c=0},markTimeWatched:function(k){if(k>j){return}e=Math.floor(k/i);if(e<0||e>=g){return}if(!b[e]){c++;b[e]=true}},getPercentageWatched:function(){if(g&&g>0){return c/g}else{return 0}},getPercentageWatchedForVideoSegment:function(q,p){var r=0;if(j>0&&(q<=p)){var o=Math.floor(q/i);var m=Math.floor(p/i);var l=0;var k=m-o+1;for(var n=o;n<=m;n++){if(b[n]){l++}}r=l/k}return r},setEnabled:function(k){d=k},isEnabled:function(){return d}}}());var TSC=TSC||{};TSC.mediaType=(function(){return{WEBM:"webm",H264:"h264",OGG:"ogg",UNKNOWN:"unknown",NOT_AVAILABLE:"not available",MULTIPLE_TYPES:"multiple types"}}());var TSC=TSC||{};TSC.rtfParser=(function(){var g="\\";var a="0";var l=" ";var o=" ";function c(q){var p="par ";return q.toLowerCase()==p}function d(v,s){if(s===undefined){s=0}var q="a";var w="z";var u=q.charCodeAt();var t=w.charCodeAt();var p=-1;if(v){p=v.indexOf(g,s);while(p!=-1){if(p+1<v.length){var r=v.toLowerCase().charCodeAt(p+1);if(u<=r&&r<=t){break}}p=v.indexOf(g,p+1)}}return p}function j(s,q){if(q===undefined){q=0}var p=d(s,q);while(p!=-1){var r=i(s,p);if(r&&!c(r)){break}p=d(s,p+1)}return p}function i(p,r){var q;if(r!=-1){var t=p.indexOf(l,r+1);if(t!=-1){var s=(t+1)-(r+1);q=p.substr(r+1,s)}else{q=p.substr(r+1)}}return q}function n(t,s){var q="";var u=[];var r=s.pop();while(r&&r!=t&&s.length){q+=(g+r);u.push(e(r));if(s.length){r=s.pop()}}q+=(g+t);while(u.length){var p=u.pop();if(p){q+=(g+p);s.push(e(p))}}return q}function b(p){return p.indexOf(a)!=-1}function e(q){var p;if(q!=""){if(b(q)){p=q.substr(0,q.indexOf(a))}else{if(q.indexOf(o)!=-1){p=q.substr(0,q.indexOf(o))}p+=a}p+=o}return p}function m(s,q){var r=s;if(q!=-1&&r&&q<r.length){var p=r.indexOf(l,q);if(p!=-1){r=r.substr(0,q)+r.substr(p+1)}else{r=r.substr(0,q)}}return r}function k(r){var p=" ";var q=r;while(q.length>1&&q.charAt(0)==p){q=q.substr(1)}while(q.length>1&&q.charAt(q.length-1)==p){q=q.substr(0,q.length-1)}if(q==p){q=""}return q}function f(w){var v=w;if(v){var r=[];var q=j(v);var u=0;while(q!==-1){var t=i(v,q);if(t&&b(t)){var p=n(t,r);var s=v.indexOf(l,q);if(s!==-1){v=v.substr(0,q)+p+v.substr(s+1)}else{v=v.substr(0,q)+p}q+=p.length}else{if(t&&!c(t)){r.push(e(t))}q=Number(q)+1}q=d(v,q)}}return v}function h(r){var q=r;if(q){var p=1;while(p>0){p=0;var v=j(q);while(v!=-1){var x=j(q,v+1);var u=i(q,v);if(u){if(x!=-1){var t=e(u);var s=i(q,x);if(s&&s==t){var y=v+1+u.length;var w=q.substr(y,x-y);if(!k(w).length){q=m(q,x);q=m(q,v);x-=(u.length+1);p++}}}}v=x}}}return q}return{NestAndCleanUpTags:function(q){var p=q;if(p){p=f(p);p=h(p)}return p}}}());var TSC=TSC||{};TSC.textFormatter=(function(){return{rtfToText:function(b){var a=false;if(b.indexOf("{\\rtf1")!=-1){b=b.split("{\\rtf1 ").join("");a=true}b=b.split("\\i ").join("");b=b.split("\\i0 ").join("");b=b.split("\\b ").join("");b=b.split("\\b0 ").join("");b=b.split("\\ul ").join("");b=b.split("\\ul0 ").join("");b=b.split("\\par ").join("");b=b.split("\\{").join("{");b=b.split("\\}").join("}");b=b.split("\\\\").join("\\");if(a&&(b.charAt(b.length-1)=="}")){b=b.substr(0,b.length-1)}return b},rtfToHTML:function(b){b=TSC.rtfParser.NestAndCleanUpTags(b);b=b.split("<").join("&lt;");b=b.split(">").join("&gt;");var a=false;if(b.indexOf("{\\rtf1")!=-1){b=b.split("{\\rtf1 ").join("");a=true}b=b.split("\\i0 ").join("</i>");b=b.split("\\b0 ").join("</b>");b=b.split("\\ul0 ").join("</u>");b=b.split("\\i ").join("<i>");b=b.split("\\b ").join("<b>");b=b.split("\\ul ").join("<u>");b=b.split("\\par ").join("<br/>");b=b.split("\\{").join("{");b=b.split("\\}").join("}");b=b.split("\\\\").join("\\");if(a&&(b.charAt(b.length-1)=="}")){b=b.substr(0,b.length-1)}b=b.split("&lt;br&gt;").join("<br/>");b=b.split("&lt;BR&gt;").join("<br/>");return b}}}());var TSC=TSC||{};TSC.deviceInfo=(function(){var f=false;var m=false;var a=false;var e=false;var n=false;var g=false;var c=false;var h=false;var i=false;var k=false;var l=false;var d=false;function j(){switch(window.location.protocol){case"http:":case"https:":return false;break;case"file:":return true;break}}function b(){n=navigator.userAgent.match(/iPad/i)!==null;g=navigator.userAgent.match(/iPhone/i)!==null;c=navigator.userAgent.match(/iPod/i)!==null;h=navigator.userAgent.toLowerCase().indexOf("android")!==-1;e=navigator.userAgent.toLowerCase().indexOf("chrome")!==-1;m=navigator.appName=="Microsoft Internet Explorer";a=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;i=navigator.userAgent.match(/Nuevo/i)!==null;k=navigator.userAgent.match(/Safari/i)!==null;d=((screen.availWidth<640)&&(screen.availHeight<480)||(screen.availWidth<480)&&(screen.availHeight<640));l=(g||c||n)&&(window.devicePixelRatio>=2);if((g||c)&&i&&l){n=true;g=c=false}}return{isSmallScreen:function(){return d},isRetinaDisplay:function(){return l},isNuevoApp:function(){return i},isIPad:function(){return n},isIPhoneOrIPod:function(){return(g||c)},isIE:function(){return m},isFirefox:function(){return a},isChrome:function(){return e},isAndroid:function(){return h},isTouchInterface:function(){return Modernizr.touch},supportsFullScreenKeyboardInput:function(){var o=false;if(e&&Element.ALLOW_KEYBOARD_INPUT!==undefined){o=true}return o},mediaLocation:function(){var q=(document.location.href);var o=q.lastIndexOf("/");var p=q.substring(0,o+1);if(TSC.deviceInfo.isIE()==true){p=encodeURI(p)}p=p.split("%25").join("%");return p},isLocal:function(){return j()},lookAtDevice:function(){b()}}}());var TSC=TSC||{};TSC.playerConfiguration=(function(){var p="10.2.0";var r=[];var D;var l;var s;var d="<b>Your browser cannot play this video.</b>";var A="'playerProductInstall.swf";var E="tsc_player.swf";var b="100%";var k="100%";var u="stop";var q=true;var e=true;var f=false;var m=-1;var z=false;var g=false;var a="left";var C="#000";var i=false;var j=false;var w=true;var F=false;var y=true;var G=false;var o=false;var I=false;var B=false;var n;var v=true;var h=true;var H=true;var c=".";function t(){var K=false;var J=(document.location.href);if(J.indexOf("http")==0){K=true}return K}function x(K){var J=K.replace("&#8217;","'");return J}return{getUnicodeSafeString:function(J){if(J===undefined){return J}if(TSC.playerConfiguration.getProcessUnicodeNames()){if(TSC.deviceInfo.isIE()==true){if(t()){return encodeURI(J)}else{return decodeURIComponent(J)}}else{return encodeURIComponent(J)}}else{return J}},getMediaSrc:function(){return r.length>0?r[0]:""},setMediaSrc:function(J){r.push(x(J))},addMediaSrc:function(J){r.push(x(J))},getMediaSources:function(){return r},getMediaFileName:function(){var J=r.length>0?r[0]:undefined;var L;if(J){var K=J.split("/");L=K[K.length-1];L=L.split("?")[0];if(L===undefined||L===""){L="Unnamed Media"}}else{L="No Media"}return L},getXMPSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(D)},setXMPSrc:function(J){D=x(J)},setSwfBase:function(J){c=x(J)},getSwfBase:function(){return c},getConfigurationSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(l)},setConfigurationSrc:function(J){l=J},getPosterImageSrc:function(){return TSC.playerConfiguration.getUnicodeSafeString(s)},setPosterImageSrc:function(J){s=J},getUnableToDisplayContentString:function(){return d},setUnableToDisplayContentString:function(J){d=J},getFlashUpdateBootstrapSwf:function(){return A},setFlashUpdateBootstrapSwf:function(J){A=J},getFlashPlayerSwf:function(){return E},setFlashPlayerSwf:function(J){E=x(J)},getPlayerWidth:function(){return b},setPlayerWidth:function(J){b=J},getPlayerHeight:function(){return k},setPlayerHeight:function(J){k=J},getEndActionType:function(){return u},setEndActionType:function(J){u=J},getEndActionParam:function(){return q},setEndActionParam:function(J){q=J},getIsSearchable:function(){return e},setIsSearchable:function(J){e=J},getAutoPlayMedia:function(){return f},setAutoPlayMedia:function(J){f=J},getAllowRewind:function(){return m},setAllowRewind:function(J){m=J},getCaptionsEnabled:function(){return z},setCaptionsEnabled:function(J){z=J},getSidebarEnabled:function(){return g},setSidebarEnabled:function(J){g=J},getSidebarLocation:function(){return a},setSidebarLocation:function(J){a=J},getBackgroundColor:function(){return C},setBackgroundColor:function(J){C=J},getMinFlashPlayerVersion:function(){return p},setDebugHotspot:function(J){i=J},getDebugHotspot:function(){return i},setAutoHideControls:function(J){w=J},getAutoHideControls:function(){return w},setProcessUnicodeNames:function(J){j=J},getProcessUnicodeNames:function(){return j},setReportScormComplete:function(J){F=J},getReportScormComplete:function(){return F},setEnforceLinearAssessment:function(J){y=J},getEnforceLinearAssessment:function(){return y},setDisableFullframeMode:function(J){G=J},getDisableFullframeMode:function(){return G},getDisableControls:function(){return o},setDisableControls:function(J){o=J},getMobileWebViewCanAutoPlay:function(){return I},setMobileWebViewCanAutoPlay:function(J){I=J},setGoogleAnalyticsID:function(J){n=J},getGoogleAnalyticsID:function(){return n},setGAPageViewTracking:function(J){v=J},getGAPageViewTracking:function(){return v},setGAEventTracking:function(J){h=J},getGAEventTracking:function(){return h},setAdvancedSeeking:function(J){B=J},getAdvancedSeeking:function(){return B},setIframeCommunicationsEnabled:function(J){H=J},getIframeCommunicationsEnabled:function(){return H},getFrameElement:function(){try{if(window!=window.top&&H){return $(window.frameElement)}else{return""}}catch(J){TSC.playerConfiguration.setDisableFullframeMode(true)}}}}());var TSC=TSC||{};TSC.mediaList=(function(){var b=".m3u";var i="Videos in a Playlist cannot be viewed from a local drive. The videos will play correctly from a Playlist hosted on a Website or Server.";var n;var j=[];var k=0;var a;var m;var d=false;function e(){k=0;if(n[0].toLowerCase().indexOf(b)!=-1){d=true;f(TSC.playerConfiguration.getUnicodeSafeString(n[0]))}else{d=false;j.push(n);a.call()}}function f(o){$.ajax({type:"GET",url:o,isLocal:true,dataType:"text",success:h,error:g})}function h(q){j=q.split(/\r?\n/g);var p=j.length-1;for(var o=p;o>=0;o--){if(j[o]===""){j.splice(o,1)}else{j[o]=TSC.playerConfiguration.getUnicodeSafeString(j[o])}}if(a){a.call()}}function g(o){if(m){m.call()}}function c(q){var p="";var o=l(q);switch(o){case TSC.mediaType.WEBM:p="video/webm";break;case TSC.mediaType.H264:p="video/mp4";break;case TSC.mediaType.OGG:p="video/ogg";default:break}return p}function l(q){var o=TSC.mediaType.UNKNOWN;var r=q.split(".");if(r.length>0){var p=r.pop().toLowerCase();switch(p){case"webm":o=TSC.mediaType.WEBM;break;case"mp4":case"m4v":case"mov":o=TSC.mediaType.H264;break;case"ogv":o=TSC.mediaType.OGG;break;default:break}}return o}return{init:function(o){n=o;e()},currentVideoSrc:function(){if(j.length>0){return j[k]}else{return undefined}},currentVideoIndex:function(){return k},setCurrentVideo:function(o){if(o==="next"){if(k<j.length-1){k++}}else{if(o==="previous"){if(k>0){k--}}else{if(Number(o)>=0&&Number(o)<j.length){k=Number(o)}}}},getMediaList:function(){return j},getVideoIndexBySrc:function(p){var r=k;for(var q=0;q<j.length;q++){if(d){if(j[q]===p){r=q;break}}else{for(var o=0;o<j[q].length;o++){if(j[q][o]===p){r=q;break}}}}return r},getMediaType:function(){var o=TSC.mediaType.NOT_AVAILABLE;if(j.length>0){o=TSC.mediaType.UNKNOWN;if(d){o=l(j[k])}else{var p=j[k].length;if(p===1){o=l(j[k][0])}else{o=TSC.mediaType.MULTIPLE_TYPES}}}return o},getMediaMimeType:function(o){return c(o)},isMediaTypeAvailable:function(p){var o=false;if(j.length>0){if(d){o=(p===l(j[k]))}else{var r=j[k].length;for(var q=0;q<r;q++){o=(p===l(j[k][q]));if(o){break}}}}return o},isPlaylist:function(){return d},onFirstVideo:function(){return(k===0)},onLastVideo:function(){return((k+1)===j.length)},getErrorMessage:function(){return i},addEventListener:function(o,p){if(o==="READY"){a=p}else{if(o==="ERROR"){m=p}}},removeEventListener:function(o,p){if(o==="READY"){a=undefined}else{if(o==="ERROR"){m=undefined}}}}}());var TSC=TSC||{};TSC.ioOverlayView=(function(){var d="#tsc_io_container";var a="#tsc_io_overlay";var c='<div id="tsc_io_container"><div id="tsc_io_message"><span>{{ioMessage}}</span><img src="{{loaderImg}}" /></div></div><div id="tsc_io_overlay"></div>';var b="data:image/gif;base64,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 Cwg1RAAAOwAAAAAAAAAAAA==";var e=false;return{getViewMarkup:function(h){var g=Handlebars.compile(c);var f={ioMessage:h,loaderImg:b};return g(f)},setViewMessage:function(f){$(d+" span").html(f)},hideLoadingGraphic:function(){$(d+" img").hide()},showLoadingGraphic:function(){$(d+" img").show()},viewOpen:function(){return e},showView:function(){$(d).css("opacity",0);$(d).animate({opacity:1},300);e=true},removeView:function(f){e=false;$(a).animate({opacity:0},200,function(){$(a).remove()});$(d).animate({opacity:0},200,function(){if(f!==undefined){f.call()}$(d).remove()})}}}());var TSC=TSC||{};TSC.playerView=function(){var bm;var b4;var b;var E=false;var aT="#tscplayer";var am="embeddedObject";var aQ,t,g,be,A,bo,bk,ar,O,bA,aj,i,M,o,a1,bX,aV,R,ay,bU,k,C,bY,ae,a4,L,v,bP;var p=300,bJ=100,ai,ag,r=-1,al=-1,aG=false,bd=false,ab=false,bg=false,bS=5,bq=false,c=false,aE=0,bL=0,aA=0,az=0,b2=0,bp=1,bV=false,aY=false,aN=-1,bZ=0,bu=false,bt=false,bv=250,aP,N="",H=1,P=false,aI=false,ah=-1,x=5000,by=false,bh="click",bE=false,aK=false,aw=1,aW=-1,bW=0,Q=0,ba=false,a5=-1,bD=false,bN=false,bf=false,W=true,aB=0,b1=10;var bs=32;var h=TSC.ioOverlayView;var ao;var bB='<a id="videoClickToPlayLink"><table id="videoClickToPlay" class="videoDimensions centeredImage"><tr><td><div id="ctoplay" class="spritesheet play_button_overlay_normal" /></td></tr></table></a><a id="videoClickToReplayLink"><table id="videoClickToReplay" class="videoDimensions centeredImage"><tr><td><div id="ctoplay" class="spritesheet replay_button_overlay_normal" /></td></tr></table></a><div id="videoWrapper" class="videoDimensions"><canvas id="hotspotContainerDebug" width="1" height="1" ></canvas><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUZFRTQ3RTgzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUZFRTQ3RTkzQjlFMTFFMUE1QzU4ODA1ODE4NzA1RTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRkVFNDdFNjNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRkVFNDdFNzNCOUUxMUUxQTVDNTg4MDU4MTg3MDVFMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuQAJiQAAAAXSURBVHjaYvz//z8DOmBiwAIoFAQIMAA2UAMHLJ+dVwAAAABJRU5ErkJggg%3D%3D" id="hotspotContainer" usemap="#hotspotMap" width="1" height="1" /><div id="videoSidebar"><div id="videoSidebarHead"><div id="searchArea"><input id="searchBox" value="Search..." /><span id="clearSearchButton" ></span></div></div><div id="videoSidebarContentWrapper"> <div id="videoSidebarContent"> <ol id="tableOfContentsList"> </ol> </div> </div> </div> <div id="videoDiv"></div><div id="volume_slider_container" class="spritesheet volumebar_backdrop"><div id="volume_slider_vertical"></div></div><div id="controls" class="spritesheet sprite_repeat control_backdrop"> <div id="rewind" class="spritesheet rewind_button_normal bitmap_control"><span></span> </div><div id="play" class="spritesheet play_button_normal bitmap_control"><span></span> </div><div id="previous" class="spritesheet previous_button_disabled bitmap_control"><span></span> </div><div id="next" class="spritesheet next_button_normal bitmap_control"><span></span> </div><div id="progress" class="bitmap_control"><div id="progress_box"><span id="progress_scrubbar_track_left" class="spritesheet scrubbar_track_left"></span><span id="progress_scrubbar_track" class="spritesheet sprite_repeat scrubbar_track"><span id="load_progress" class="spritesheet sprite_repeat scrubbar_loaded_track"><span id="play_progress" class="spritesheet sprite_repeat scrubbar_played_track"></span></span></span> <span id="progress_scrubbar_track_right" class="spritesheet scrubbar_track_right"></span><canvas id="markers"></canvas><span id="scrubbar_scrubber" class="spritesheet scrubbar_scrubber_normal"></span> </div><div class="spritesheet seperator bitmap_control"></div><div id="play_time"> <span id="current_time_display">00:00</span> / <span id="duration_display">00:00</span> </div> </div><div id="volume" class="spritesheet volume_button_normal bitmap_control"></div><div id="closedCaptionButton" class="spritesheet closed_caption_button_normal bitmap_control"></div><div id="tocButton" class="spritesheet toc_button_normal bitmap_control"></div><div id="fullscreen_enter_button" class="bitmap_control spritesheet fullscreen_enter_button_normal"></div></div><div id="currentCaption" class="hide"></div><div id="alertDialog"></div></div><div id="captions"></div><div id="screenText"></div><div id="speechText"></div><map name="hotspotMap" id="hotspotMap"></map>';function a0(b6){if(aQ&&ab&&b6.keyCode===bs){b6.originalEvent.preventDefault();if(aQ[0].paused){aQ[0].play()}else{aQ[0].pause()}}}function z(){$(document).bind("keydown",a0)}function q(){$(document).unbind("keydown",a0)}function f(b6){b6=b6.replace(/\)/gi,"\\)");b6=b6.replace(/\(/gi,"\\(");$("#videoClickToPlay, #videoClickToReplay").css("background-image","url("+b6+")")}function a2(){$("#videoClickToPlay, #videoClickToReplay").css("background-image","none")}function ac(b6){if(H!=-1){$("#tableOfContentsList li:nth-child("+H+") ").removeClass("selectedTocItem")}H=b6;$("#tableOfContentsList li:nth-child("+H+") ").addClass("selectedTocItem")}function d(b6){for(var b7=0;b7<b6.length;b7++){var b8;if(b6[b7].start!==undefined){b8=b6[b7].start}else{b8=b6[b7].time}a3(b6[b7].text,b8,b6[b7].file,b6[b7].imageRef,b6[b7].imageRect)}}function bI(b6){var b9=[];var b8;for(b8=0;b8<b6.length;b8++){var cb=b6[b8].text;if(cb.toLowerCase().indexOf(C.val().toLowerCase())!=-1){b9.push(b6[b8])}}var ca=b9.length;var b7;for(b7=0;b7<ca;b7++){bn(b9[b7])}}function bn(cj){var ci=cj.items.length;var cf=(C.val().toLowerCase()).split(" ");for(var cd=0;cd<ci;cd++){var cb="";var b8=cj.items[cd];var ca=cf[0];if(b8.toLowerCase().indexOf(ca)<0){continue}for(var cc=0;cc<cf.length;cc++){if(cd+cc>=ci){cb+=""}else{if(cd==0){cb+=cj.items[cd+cc]}else{cb+=" "+cj.items[cd+cc]}}}if(cb.toLowerCase().indexOf(C.val().toLowerCase())!=-1){var b9;if(cf.length<4){b9=Math.floor(5-(cf.length)/2)}else{b9=2}var b7;var cg="";var b6="";for(var ce=1;ce<=b9;ce++){if((cd-ce)>=0){cg=cj.items[cd-ce]+" "}if(cd+cc+ce<ci){b6+=" "+cj.items[cd+cc+(ce-1)]}}cb=bT(cb,C.val());b7="..."+cg+cb+b6+"...";var ck=cj.file;var ch="";if(ck!==undefined){ch="data-file='"+ck+"'"}aO("#searchList",b7,cj.start,ck,undefined,undefined,C.val())}}}function a3(ca,b6,b7,b8,b9){if(ca.toLowerCase().indexOf(C.val().toLowerCase())!=-1){aO("#searchList",ca,b6,b7,b8,b9,C.val())}}function u(){var b6=$("#hotspotContainerDebug");var b7=b6[0].getContext("2d");b7.clearRect(0,0,$("#hotspotContainerDebug").width(),$("#hotspotContainerDebug").height());b7.fillStyle="rgba(255, 0, 0, 0.5)";var b8;var b9;$.each(TSC.xmp.getHotspotItemArray(),function(){b9=$(this)[0];if(b9.isActive){b8=b9.scaledPoints.length;b7.beginPath();for(var ca=0;ca<b8;ca+=2){if(ca===0){b7.moveTo(b9.scaledPoints[ca],b9.scaledPoints[ca+1])}else{b7.lineTo(b9.scaledPoints[ca],b9.scaledPoints[ca+1])}}b7.lineTo(b9.scaledPoints[0],b9.scaledPoints[1]);b7.closePath();b7.fill()}})}function aL(b8,b7,cc,b6){var cb="";var ca=b7.points.length;for(var b9=0;b9<ca;b9++){b7.scaledPoints[b9]=Math.round(b7.points[b9]*cc);if(b7.scaledPoints[b9]<0){b7.scaledPoints[b9]=0}if(b9===0){cb+=b7.scaledPoints[b9]}else{cb+=","+b7.scaledPoints[b9]}}if(TSC.playerConfiguration.getDebugHotspot()){u()}if(b6){$(b6).attr("coords",cb)}else{$("#hotspotMap").append('<area shape="poly" coords="'+cb+'" hotspot_index="'+b8+'" href="#" alt="Hotspot" />');$("#hotspotMap area").bind("click",G)}}function l(ch,cb){if(r<0){return}var ca=(Number(ch)-(Number(r)*aw))/2;var cd=(Number(cb)-(Number(al)*aw))/2;if(ca<0){ca=0}if(cd<0){cd=0}var b7=(r*aw);var cg=(al*aw);$("#hotspotContainer").attr("width",b7);$("#hotspotContainer").attr("height",cg);$("#hotspotContainer").css("left",ca);$("#hotspotContainer").css("top",cd);if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").attr("width",b7);$("#hotspotContainerDebug").attr("height",cg);$("#hotspotContainerDebug").css("left",ca);$("#hotspotContainerDebug").css("top",cd)}var b6=$("#hotspotMap area");var b8=b6.length;var b9;var ce;if(b8>0){for(var cc=0;cc<b8;cc++){b9=b6[cc];ce=$(b9).attr("hotspot_index");if(ce){var cf=TSC.xmp.getHotspotItemArray();var ci=cf[Number(ce)];if(ci){aL(Number(ce),ci,aw,b9)}}}}}function ad(){$("#searchList").remove();bk.show();b0()}function bK(){if(aQ===undefined){return}var b7=aQ[0].offsetWidth;var b6=b7-20;if(b6!==R.width()){R.css("width",b6+"px");R.css("left",10+"px")}R.css("height",$("#currentCaption span").innerHeight())}function ak(){var b7=$("#markers");var b6=b7[0].getContext("2d");TSC.quizController.drawMarkers((aQ[0].duration*1000),b6,bW,Q)}function U(){aE=$("#videoSidebarHead")[0].offsetHeight+bL;var b6=(ai-i.height()-aE);$("#videoSidebarContent").height(b6)}function bM(){$("#tscVideoContent").css("width",TSC.playerConfiguration.getPlayerWidth());$("#tscVideoContent").css("height",TSC.playerConfiguration.getPlayerHeight());ai=$("#tscVideoContent").innerHeight();ag=$("#tscVideoContent").innerWidth();i.width(ag);if(TSC.playerConfiguration.getSidebarLocation()==="right"){bX.css("left",ag-bX.outerWidth());bX.css("top",$("#tscVideoContent").offset().top)}else{bX.css("left",$("#tscVideoContent").offset().left);bX.css("top",$("#tscVideoContent").offset().top)}var b6;b6=o.outerWidth(true)+bS;var b9=$("#play_time").outerWidth(true)+$(".seperator").outerWidth(true)+bS;if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){$("#volume").remove();if(bu){b6=b6+O.outerWidth(true)}if(bq){b6=b6+ar.outerWidth(true)}b6=b6+bS}else{if(bu){b6=b6+aV.outerWidth(true)+O.outerWidth(true)+bS;if(c||bq){b6=b6+ar.outerWidth(true)}}else{b6=b6+aV.outerWidth(true)+bS;if(c||bq){b6=b6+ar.outerWidth(true)}}}if(TSC.xmp.hasCaptionItems()){b6=b6+ay.outerWidth(true)}if(TSC.playerConfiguration.getAllowRewind()!=-1){b6=b6+t.outerWidth(true)}if(be.is(":visible")){b6=b6+be.outerWidth(true)+A.outerWidth(true)}if(bq){$("#fullscreen_enter_button").removeClass("fullscreen_enter_button_normal");$("#fullscreen_enter_button").addClass("fullframe_enter_button_normal")}bA.width(ag-b6);aj.width(ag-b6-b9);$(".videoDimensions").width(ag);$(".videoDimensions").height(ai);if(bu){U()}var b8=aQ&&aQ.length>0;if(b8){aQ.attr("height",ai+"px");aQ.attr("width",ag+"px")}bz();if(TSC.xmp.hasHotspotItems()){l(ag,ai)}if(TSC.xmp.hasCaptionItems()){D();bK()}if(ae.length>0){a4.css("left",(aV.outerWidth(true)+(bS*2))+"px")}else{var b7=aV.offset().left+(aV.width()/2-a4.width()/2);if((b7+a4.width())>$("#tscVideoContent").offset().left+$("#tscVideoContent").width()){b7=($("#tscVideoContent").offset().left+$("#tscVideoContent").width())-(a4.width()+5)}a4.css("left",b7+"px")}if(aQ&&aQ[0].duration){F();if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){bW=ag-b6-b9;Q=i.height();$("#markers").attr("width",bW+"px");$("#markers").attr("height",Q+"px");ak();if(TSC.quizController.viewOpen()){TSC.quizController.pointViewAt(br(aQ[0].currentTime))}}}}function bz(){if(r>0&&ag>0){var b7=ag/r;var b6=ai/al;var b8=Math.min(b7,b6);aw=b8}}function au(){if(bu&&!TSC.deviceInfo.supportsFullScreenKeyboardInput()){$("#searchArea").show();$("#fsSearchAlert").remove();U()}}function B(){ba=true;if(!TSC.xmp.hasQuiz()||(TSC.xmp.hasQuiz()&&(!TSC.quizController.quizEnabled()||TSC.quizController.getQuizReady()))){if(!TSC.playerConfiguration.getDisableControls()){i.show()}T()}else{aQ[0].pause();bQ(TSC.quizController.getLastStatusMessage())}if(TSC.videoAnalytics.isEnabled()&&!TSC.videoAnalytics.isPercentWatchedInitialized()){TSC.videoAnalytics.initPercentWatched(aQ[0].duration*1000)}if((aQ[0].webkitSupportsFullscreen&&!TSC.deviceInfo.isIPad()&&!TSC.deviceInfo.isAndroid())){document.addEventListener("webkitfullscreenchange",function(){aG=!aG;if(aG){$("#fullscreen_enter_button").removeClass("fullscreen_enter_button_normal");$("#fullscreen_enter_button").addClass("fullscreen_leave_button_normal")}else{au();$("#fullscreen_enter_button").removeClass("fullscreen_leave_button_normal");$("#fullscreen_enter_button").addClass("fullscreen_enter_button_normal");$("body").css("margin-left","1px");bg=true;bM();$("body").css("margin-left","0");bg=true;bM()}});c=true}else{if(window!=window.top&&!TSC.playerConfiguration.getDisableFullframeMode()){ar.show();bq=true}else{$("#fullscreen_enter_button").remove()}}bg=true;bM();aQ[0].removeEventListener("loadedmetadata",B,false)}function m(){var b6;if(R.hasClass("captionVAlignTop")){b6=20;R.css("bottom","");R.css("top",b6+"px")}else{b6=i.height()+10;R.css("top","");R.css("bottom",b6+"px")}}function br(b7){var b8=aj.position().left;if(aQ&&aQ[0].duration&&aQ[0].duration>0){if(b7>=0&&b7<=aQ[0].duration){var b6=b7/aQ[0].duration;b8+=b6*aj[0].offsetWidth}}return b8}function X(){if(!ab||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()&&!TSC.quizController.getQuizReady())){return}var b9=false;if(r===-1||r===0){r=aQ[0].videoWidth;al=aQ[0].videoHeight;bz();if(TSC.xmp.hasCaptionItems()){D()}if(TSC.xmp.hasHotspotItems()){l(ag,ai)}b9=true}bf=Number(aQ[0].currentTime.toFixed(2))>=Number(aQ[0].duration.toFixed(2));aA=((aA+(aQ[0].currentTime-az))/2)+0.33;if(b9){az=0}else{az=aQ[0].currentTime>aQ[0].duration?aQ[0].duration:aQ[0].currentTime}b2=az*1000;if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.markTimeWatched(b2);if(TSC.playerConfiguration.getGoogleAnalyticsID()){var b8=Math.round(TSC.videoAnalytics.getPercentageWatched()*100);if(b8>=(aB+b1)){aB+=b1;if(aB<b8){aB=(b1*Math.floor(b8/b1))+b1}if(aB>100){aB=100}_gaq.push(["_trackEvent","HTML5-Video","Video_Percent_Viewed","Viewed: "+aB+" Percent"])}}}var cc="";if(!by&&TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){var b6=TSC.quizController.findQuestionSet(b2);if(b6.id>=0){if(aW!==b6.id){if(!TSC.deviceInfo.isTouchInterface()){q()}aF();bO(false);if(bX){aq(false)}aW=b6.id;if(!TSC.deviceInfo.isIE()&&aQ[0].currentTime){aQ[0].currentTime=b6.markerTime/1000;aQ[0].pause()}else{setTimeout(function(){aQ[0].pause();aQ[0].currentTime=b6.markerTime/1000},300)}if(aG&&!TSC.deviceInfo.supportsFullScreenKeyboardInput()){I("#videoWrapper",TSC.quizUiStrings.getQuizFullscreenMode(),true)}TSC.quizController.displayConfirm(b6.id);TSC.quizController.pointViewAt(br(b6.markerTime/1000));if(TSC.videoAnalytics.isEnabled()){var b8=TSC.videoAnalytics.getPercentageWatchedForVideoSegment((TSC.quizController.findPrevMarkerTimeForMarker(b6.id)),(b6.markerTime));TSC.quizController.updatePercentWatchedForQuestionSet(aW,b8)}w(false)}else{}}else{aW=-1}}var b7=0;$.each(TSC.xmp.getHotspotItemArray(),function(){var cf=$(this)[0];var cd;if(TSC.mediaList.isPlaylist()){cd=TSC.mediaList.currentVideoSrc()}var cg=true;if(cf.file!==undefined&&cf.file!==cd){cg=false}if(cf.start<az&&az<=cf.end&&cg){if(cf.isActive===false){cf.isActive=true;aL(b7,cf,aw)}if(cf.pause!==undefined&&cf.pause===true&&az+aA>cf.end&&!aQ[0].paused&&!cf.hasPaused){if(cf.hasPaused===false){aQ[0].pause()}cf.hasPaused=true;av(cf.end)}}else{if(cf.isActive){cf.isActive=false;var ce=0;$("#hotspotMap area").each(function(){var ch=$(this)[0];ce++;if(Number($(ch).attr("hotspot_index"))===b7){return false}});if(ce>0){$("#hotspotMap area:nth-child("+ce+")").remove()}if(TSC.playerConfiguration.getDebugHotspot()){u()}}if(!aQ[0].paused){cf.hasPaused=false}}b7++});var cb=false;var ca=false;$.each(TSC.xmp.getCaptionItemArray(),function(){var ce=$(this)[0];var cd;if(TSC.mediaList.isPlaylist()){cd=TSC.mediaList.currentVideoSrc()}var cf=true;if(ce.file!==undefined&&ce.file!==cd){cf=false}if(ce.start<az&&az<=ce.end&&cf){ca=true;if(ce.text!==R.text()){R.removeClass("captionHAlignLeft");R.removeClass("captionHAlignCenter");R.removeClass("captionHAlignRight");R.addClass(ce.hAlignClass);R.removeClass("captionVAlignTop");R.removeClass("captionVAlignBottom");R.addClass(ce.vAlignClass);m();cc=ce.htmlText;cb=true}}});if(ca){if(cb){if(cc!==""){cc="<span>"+cc+"</span>"}R.html(cc);if(cc!==""){$("#currentCaption span").css("background",TSC.xmp.getCaptionBg())}bK();if(b){b.call(cc)}}}else{R.html("")}if(aY){ay.removeClass("closed_caption_off_button_normal");ay.addClass("closed_caption_button_normal");R.removeClass("hide");bK()}else{ay.removeClass("closed_caption_button_normal");ay.addClass("closed_caption_off_button_normal");R.addClass("hide")}if(TSC.playerConfiguration.getReportScormComplete()&&TSC.videoAnalytics.getPercentageWatched()===1){TSC.playerConfiguration.setReportScormComplete(false);if(typeof userSubmitVideoCompletedToLMS=="function"){userSubmitVideoCompletedToLMS()}}if(!by&&aW===-1&&bf&&!bN){bN=true;aQ[0].pause();at()}}function bF(b6){if(b6>1){b6=1}else{if(b6<0){b6=0}}aQ[0].volume=b6}function av(b6){$.each(TSC.xmp.getHotspotItemArray(),function(){var b7=$(this)[0];if(b7.end===b6){b7.hasPaused=true}})}function bc(){$.each(TSC.xmp.getHotspotItemArray(),function(){var b6=$(this)[0];b6.hasPaused=false;b6.isActive=false});$("#hotspotMap area").remove();if(TSC.playerConfiguration.getDebugHotspot()){u()}}function bT(b8,b6){var b7=new RegExp(b6,"ig");return b8.replace(b7,"<span class='foundSearchText'>"+b6+"</span>")}function aO(cl,cB,cw,cg,cn,cf,cb){var ca="";var b8="";var ci;var cp="";var cr="";var cs=1;var cj;var b6;var ch=0;var cq=0;var cy=20;var ct=65;var cd=false;if(cg!==undefined){cr="data-file='"+cg+"'"}if(cf){var cA=cf.split(",");var co=-Number(cA[0]);var cu=-Number(cA[1]);var cm=Number(cA[2]);var cz=Number(cA[3]);var cx="";ci="hasThumbImage";cp="style='height:"+cz+"px'";if(cz<ct){cd=true;cp="style='height:"+ct+"px'"}if(TSC.xmp.getTocCellLayoutType()&&TSC.xmp.getTocCellLayoutType()==="imageOnly"&&cb===undefined){ch=(bv-cm-cy)/2}else{if(cm>(bv/2-cy)){cs=(bv/2-cy)/cm;cm=bv/2-cy;cq=Math.floor((cA[3]-(cA[3]*cs))/2)}else{cq=Math.floor((ct-(cA[3]*cs))/2)}}b6={};b6.width=Number(bv-cm-40)+"px";b6.left=Number(cm+5)+"px";b6.overflow="hidden";b6["line-height"]="1.2em";b6["max-height"]="4.8em";if(cb!==undefined){cj='<div class="tocItemLabel">'+bT(cB,cb)+"</div>"}else{if(TSC.xmp.getTocCellLayoutType()&&TSC.xmp.getTocCellLayoutType()==="imageOnly"){cj=""}else{cj='<div class="tocItemLabel">'+cB+"</div>"}}b8="<div>"+cj+"</div>"}else{cp="";ci="noThumbImage";if(cb!==undefined){b8=bT(cB,cb)}else{b8=cB}}var ce="<li "+cp+" class='"+ci+"' data-time='"+cw+"' "+cr+" ></li>";$(cl).append(ce);if(cn){var cv=cn.getContext("2d");cn.width=Number(cA[2])*cs;cn.height=Number(cA[3])*cs;cv.scale(cs,cs);if(v){cv.drawImage(v,cA[0],cA[1],cA[2],cA[3],0,0,cA[2],cA[3])}else{cv.fillStyle="#000000";cv.fillRect(0,0,cA[2],cA[3])}$(cn).css("margin-left",ch);$(cn).css("margin-top",cq);$(cl+" li:last-child").append(cn)}$(cl+" li:last-child").append(b8);if(cn){$(cl+" li:last-child .tocItemLabel").css(b6);var b9=0;var b7=ct;if(!$(bX).is(":visible")){aq(true);b9=$(cl+" li:last-child .tocItemLabel").height();if(!cd){b7=$(cl+" li:last-child").height()}aq(false)}else{b9=$(cl+" li:last-child .tocItemLabel").height();if(!cd){b7=$(cl+" li:last-child").height()}}var cc=-8;if(!cd&&cs===1){cc=4}var ck=-Number(b7+cc);ck+=(b7-b9)/2;cq=Math.floor((b7-(cA[3]*cs))/2);$(cn).css("margin-top",cq);$(cl+" li:last-child .tocItemLabel").css("top",ck+"px")}if(TSC.mediaList.isPlaylist()){ac(H)}}function bx(b6){v=new Image();v.onload=function(){b0()};v.src=b6}function b0(){var b8=TSC.xmp.getTocItemArray();var b6=b8.length;var b9;$("#tableOfContentsList li").remove();for(var b7=0;b7<b6;b7++){if(b8[b7].imageRect){b8[b7].imageRef=document.createElement("canvas")}aO("#tableOfContentsList",b8[b7].text,b8[b7].time,b8[b7].file,b8[b7].imageRef,b8[b7].imageRect)}}function bl(){var ca=bP.width;var b8=bP.height;var cc;var b9;var b6;var cb=0.6;if(b8<=ca){if(ca>(bv-20)){cc=(bv-20)/ca;b9=(bv-20);b6=b8*cc}else{cc=1;b9=ca;b6=b8}}else{if(b8>(bv-20)){cc=((ca*cb)-20)/b8;b6=((bv*cb)-20);b9=ca*cc}else{cc=1;b6=b8;b9=ca}}var b7='<div id="pipimage" style="background-image: url('+TSC.xmp.getTocImageSrc()+");background-repeat:no-repeat;background-size:contain;width: "+b9+"px;height: "+b6+"px;border: 1px solid #FFFFFF;margin-left: "+((bv-b9)/2)+"px;margin-right:"+((bv-b9)/2)+'px;margin-top: 10px;margin-bottom:  10px;"></div>';$(b7).prependTo($("#videoSidebarHead"));$("#videoSidebarHead").prepend(TSC.xmp.getTocTitle());U()}function aq(b6){if(b6){bX.show();w(false)}else{bX.hide();if(!aI){w(true)}}}function S(b9){bE=false;if(TSC.deviceInfo.isTouchInterface()&&aK){return}b9.stopImmediatePropagation();b9.preventDefault();var b6=$(this).attr("data-time");var b7=$(this).attr("data-file");if(b7!==undefined){bc();var b8=TSC.mediaList.getVideoIndexBySrc(b7);if(b8===TSC.mediaList.currentVideoIndex()){aQ[0].currentTime=b6}else{TSC.mediaList.setCurrentVideo(b8);K()}ac(b8+1)}else{bc();aQ[0].currentTime=b6}}function a7(){if(bt){aq(true)}else{aq(false)}if(TSC.playerConfiguration.getIsSearchable()){C.keyup(function(){if(C.val()!=""){bk.hide();$("#searchList").remove();$("#videoSidebarContent").append("<ol id='searchList' ></ol>");d(TSC.xmp.getTocItemArray());d(TSC.xmp.getCaptionItemArray());bI(TSC.xmp.getScreenTextItemArray());if(TSC.xmp.getCaptionItemArray().length<1&&TSC.xmp.getScreenTextItemArray().length>0){bI(TSC.xmp.getScreenTextItemArray())}$("#searchList").show()}else{ad()}});bo.click(function(){C.val("");ad()})}else{$("#searchArea").remove()}if(TSC.xmp.getTocImageSrc()){bP=new Image();bP.onload=bl;bP.src=TSC.xmp.getTocImageSrc()}else{$("#videoSidebarHead").prepend(TSC.xmp.getTocTitle())}if(TSC.xmp.tocContainsThumbs()){bx(TSC.xmp.getTocThumbImageSrc())}b0();if(TSC.deviceInfo.isTouchInterface()){bh="touchend";aK=false}else{$("#videoSidebarContent ol li").live(bh,S)}}function aX(b8){var b7;by=true;if(!TSC.deviceInfo.isTouchInterface()){window.clearTimeout(ah)}if(aQ[0].paused){b7=false}else{b7=true;aQ[0].pause()}bC();if(TSC.deviceInfo.isTouchInterface()){Y(b8.originalEvent.touches[0].clientX);document.ontouchmove=function(b9){b9.preventDefault();Y(b9.pageX)};document.ontouchend=b6}else{document.onmousemove=function(b9){Y(b9.pageX)};document.onmouseup=b6}function b6(b9){if(by&&!TSC.deviceInfo.isTouchInterface()&&TSC.playerConfiguration.getAutoHideControls()){bi()}by=false;n();if(TSC.deviceInfo.isTouchInterface()){document.ontouchmove=null;document.ontouchend=null}else{document.onmousemove=null;document.onmouseup=null}if(b7&&!bf){aQ[0].play()}X()}}function bG(){aQ.bind("timeupdate",function(){F()});aQ.bind("progress",function(){J()});aQ.bind("durationchange",function(){J();if(aP){window.clearInterval(aP)}aP=window.setInterval(J,1000)});if(!TSC.deviceInfo.isTouchInterface()){aj.bind("mousedown",aX);aj.bind("mouseup",function(b6){Y(b6.originalEvent.pageX)})}}function J(){if(aQ&&aQ.length>0){var b6=0;if(aQ[0].buffered&&aQ[0].buffered.length){b6=Math.ceil(((aQ[0].buffered.end(0)/aQ[0].duration)*100))}$("#load_progress").css("width",b6+"%");if(b6===100){if(aP){window.clearInterval(aP)}}}}function bC(){document.body.focus();document.onselectstart=function(){return false}}function n(){document.onselectstart=function(){return true}}function Y(cc){bc();var b6=Math.max(0,Math.min(1,(cc-aj.position().left)/aj[0].offsetWidth));var b9=b6*(aj[0].offsetWidth-2);if(L.length>0){var cb=M.offset().left;var b8=L.width();var b7=b9-Math.floor(b8/2);L.css("left",b7+1)}M.width(b9);bE=false;try{aQ[0].currentTime=Number(b6*aQ[0].duration)}catch(ca){if(ca.code==DOMException.INDEX_SIZE_ERR){}}Z()}function F(){M.width((aQ[0].currentTime/aQ[0].duration)*(aj[0].offsetWidth-2));var b8=M.offset().left;var b7=(aQ[0].currentTime/aQ[0].duration)*(aj[0].offsetWidth-2);if(L.length>0){var b6=L.width();L.css("left",b7-Math.floor(b6/2))}Z()}function Z(){o[0].innerHTML=j(aQ[0].currentTime);if(aQ[0].duration){a1[0].innerHTML=j(aQ[0].duration)}}function j(b7){b7=Math.round(b7);var b6=Math.floor(b7/60);b6=(b6>=10)?b6:"0"+b6;b7=Math.floor(b7%60);b7=(b7>=10)?b7:"0"+b7;return b6+":"+b7}function ax(b7,b9){var b6=100;try{b6=localStorage.getItem("volume")==undefined?100:localStorage.getItem("volume")}catch(b8){}b7.slider({orientation:b9,range:"min",min:0,max:100,value:b6,slide:function(ca,cb){aV.removeClass("volume_button_high_normal");aV.removeClass("volume_button_med_normal");aV.removeClass("volume_button_low_normal");aV.removeClass("volume_button_normal");aV.removeClass("unmute_button_normal");if(cb.value>70){aV.addClass("volume_button_high_normal")}else{if(cb.value>30){aV.addClass("volume_button_med_normal")}else{if(cb.value>0){aV.addClass("volume_button_low_normal")}else{aV.addClass("unmute_button_normal")}}}bF(cb.value/100);try{localStorage.setItem("volume",cb.value)}catch(cc){}}});try{bF(localStorage.getItem("volume")==undefined?100:localStorage.getItem("volume")/100)}catch(b8){}}function aD(){a4.show(bJ)}function b3(){if(aN!==-1){clearTimeout(aN);aN=-1}a4.unbind("mouseenter");a4.unbind("mouseleave");a4.hide(bJ)}function aZ(){if(bu&&bt){$(this).removeClass("toc_off_button_normal");$(this).addClass("toc_button_normal");aq(false)}$("#hotspotContainer").hide();if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").hide()}k.show()}function b5(b6,b7){bN=false;bE=false;k.hide();bU.css("visibility","visible");bc();if(!TSC.deviceInfo.isTouchInterface()){z()}if(!TSC.mediaList.isPlaylist()){aQ[0].currentTime=b6}if(b7){if(TSC.mediaList.isPlaylist()){TSC.mediaList.setCurrentVideo(0);ac(TSC.mediaList.currentVideoIndex()+1);K()}else{aQ[0].play()}}$("#hotspotContainer").show();if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").show()}}function at(){if(Math.floor(aQ[0].currentTime)<Math.floor(aQ[0].duration)){if(aP){window.clearInterval(aP)}var b8=":( This video failed to load completely.";if(!TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){b8+="  You may need to try another browser or use the Flash plugin."}I(undefined,b8,false);return}if(TSC.mediaList.isPlaylist()&&!TSC.mediaList.onLastVideo()){bg=true;TSC.mediaList.setCurrentVideo("next");ac(TSC.mediaList.currentVideoIndex()+1);K()}else{if(!TSC.deviceInfo.isTouchInterface()){q()}aQ[0].pause();g.removeClass("pause_normal");g.addClass("play_normal");setTimeout(a6,1000);var b6=false;var b7=true;var b9=false;var cb=true;if(TSC.playerConfiguration.getEndActionType()!=undefined){var ca=TSC.playerConfiguration.getEndActionParam();switch(TSC.playerConfiguration.getEndActionType().toLowerCase()){case"loop":b6=(ca==="true"||ca==="1")?true:false;break;case"stop":b7=(ca==="false"||ca==="0")?false:true;break;case"jumptotime":b9=true;break;case"jumptotimeandstop":cb=false;b9=true;break;case"jumptourl":if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Finished_Action",ca])}if(TSC.deviceInfo.isNuevoApp()){setTimeout(function(){window.open(""+ca,"_parent")},500)}else{window.open(""+ca,"_parent")}break;case"jumptourlnew":if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Finished_Action",ca])}window.open(""+ca,"_blank");break}}if(b6){b5(0,true)}else{if(b9){b5((ca/1000),cb)}else{if(b7){if(aG){document.webkitCancelFullScreen()}if(!TSC.deviceInfo.isTouchInterface()){aF()}bj();aZ()}else{bE=true}}}}}function aS(){bd=!bd;if(ao.hasClass("tscplayer_inline")){$("#fullscreen_enter_button").removeClass("fullframe_enter_button_normal");$("#fullscreen_enter_button").addClass("fullframe_leave_button_normal");bZ=window.parent.scrollY||window.top.pageYOffset;window.parent.scrollTo(0,0);$("html",window.parent.document).css("overflow","hidden");if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){if(P){$("#searchBox").blur();setTimeout(aR,100)}else{aR()}}else{ao.removeClass("tscplayer_inline");ao.attr("width","100%");ao.attr("height","100%");ao.addClass("tscplayer_fullframe")}}else{$("#fullscreen_enter_button").removeClass("fullframe_leave_button_normal");$("#fullscreen_enter_button").addClass("fullframe_enter_button_normal");$("html",window.parent.document).css("overflow","auto");ao.removeClass("tscplayer_fullframe");ao.removeAttr("width");ao.removeAttr("height");ao.addClass("tscplayer_inline");if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){clearTimeout(a5);aC();bM()}window.top.scrollTo(0,bZ)}}function ap(){$("#hotspotContainer").unbind("touchstart");$("#hotspotContainer").unbind("touchmove");$("#hotspotContainer").unbind("touchend");$("#videoDiv").unbind("touchstart");$("#videoDiv").unbind("touchmove");$("#videoDiv").unbind("touchend");aj.unbind("touchstart");$("#videoSidebarContent ol li").die("touchstart");$("#videoSidebarContent ol li").die("touchmove");$("#videoSidebarContent ol li").die(bh,S)}function e(){var b6=false;$("#hotspotContainer").bind("touchstart",function(b7){b6=false});$("#hotspotContainer").bind("touchmove",function(){b6=true});$("#hotspotContainer").bind("touchend",function(b7){if(!b6){if(aI){bO()}else{bj()}}b6=false});$("#videoDiv").bind("touchstart",function(b7){b6=false});$("#videoDiv").bind("touchmove",function(){b6=true});$("#videoDiv").bind("touchend",function(){if(!b6){if(aI){bO()}else{bj()}}b6=false});aj.bind("touchstart",aX);$("#videoSidebarContent ol li").live("touchstart",function(b7){aK=false});$("#videoSidebarContent ol li").live("touchmove",function(b7){aK=true});$("#videoSidebarContent ol li").live(bh,S)}function aJ(){if(TSC.playerConfiguration.getAllowRewind()!==-1){t.click(function(){bE=false;var b6=Number(aQ[0].currentTime)-TSC.playerConfiguration.getAllowRewind();aQ[0].currentTime=Number(b6)})}else{t.hide()}g.click(function(){if(aQ[0].paused){if(bE){aa()}else{aQ[0].play()}}else{aQ[0].pause()}});be.click(function(){if(!TSC.mediaList.onFirstVideo()){TSC.mediaList.setCurrentVideo("previous");ac(TSC.mediaList.currentVideoIndex()+1);K()}});A.click(function(){if(!TSC.mediaList.onLastVideo()){TSC.mediaList.setCurrentVideo("next");ac(TSC.mediaList.currentVideoIndex()+1);K()}});aQ.bind("play",function(){g.removeClass("play_button_normal");g.addClass("pause_button_normal")});aQ.bind("pause",function(){g.removeClass("pause_button_normal");g.addClass("play_button_normal")});aQ.bind("ended",function(){if(by){return}X();if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Finished",TSC.mediaList.currentVideoSrc().toString()])}});k.click(function(){aa()});bG();aV.mouseover(function(){if(aN!=-1){clearTimeout(aN);aN=-1}aD()});aV.mouseout(function(){if(bY.length>0){a4.bind("mouseenter",function(){if(aN!=-1){clearTimeout(aN);aN=-1}});a4.bind("mouseleave",function(){aN=setTimeout(function(){b3();aN=-1},1000)});if(aN!=-1){clearTimeout(aN);aN=-1}aN=setTimeout(function(){b3();aN=-1},1000)}});aV.click(function(){var b6;bV=!bV;if(bV){bp=aQ[0].volume;b6=0;bY.slider("value",[0])}else{b6=bp;bY.slider("value",[bp*100])}aV.removeClass("volume_button_high_normal");aV.removeClass("volume_button_med_normal");aV.removeClass("volume_button_low_normal");aV.removeClass("volume_button_normal");aV.removeClass("unmute_button_normal");if(b6>0.7){aV.addClass("volume_button_high_normal")}else{if(b6>0.3){aV.addClass("volume_button_med_normal")}else{if(b6>0){aV.addClass("volume_button_low_normal")}else{aV.addClass("unmute_button_normal")}}}bF(b6)});if(ae.length>0){ax(ae,"horizontal");a4.show()}else{ax(bY,"vertical")}if(TSC.xmp.hasCaptionItems()){ay.click(function(){aY=!aY;if(aY){$(this).removeClass("closed_caption_off_button_normal");$(this).addClass("closed_caption_button_normal");R.removeClass("hide");bK()}else{$(this).removeClass("closed_caption_button_normal");$(this).addClass("closed_caption_off_button_normal");R.addClass("hide")}})}ar.click(function(){if(bq){aS()}else{if(!aG){var b6=document.getElementById("videoWrapper");if(TSC.deviceInfo.supportsFullScreenKeyboardInput()){b6.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else{if(bu&&TSC.playerConfiguration.getIsSearchable()){$("#searchArea").hide();$("#videoSidebarHead").append("<div id='fsSearchAlert'>Search is disabled in fullscreen mode.</div>")}b6.webkitRequestFullScreen()}}else{if(TSC.playerConfiguration.getIsSearchable()){au()}document.webkitCancelFullScreen()}}});if(bu){O.click(function(){bt=!bt;if(bt){$(this).removeClass("toc_off_button_normal");$(this).addClass("toc_button_normal")}else{$(this).removeClass("toc_button_normal");$(this).addClass("toc_off_button_normal")}if(bX.css("display")==="none"){aq(true);U()}else{aq(false)}});if(TSC.playerConfiguration.getSidebarEnabled()){bt=true;O.removeClass("toc_off_button_normal");O.addClass("toc_button_normal");aq(true)}else{O.removeClass("toc_button_normal");O.addClass("toc_off_button_normal")}}if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){$("textarea").live("blur",function(){bD=false;e();if(bd){bb()}});$("textarea").live("focus",function(){bD=true;ap();if(bd){aC()}});$("input:text").live("blur",function(){bD=false;e();if(bd){bb()}});$("input:text").live("focus",function(){bD=true;ap();if(bd){aC()}});window.parent.onorientationchange=function(){if(bd){if(P){$("#searchBox").blur();setTimeout(an,500)}else{an()}}}}else{z()}if(TSC.playerConfiguration.getDisableControls()){bj()}}function aa(){if(!TSC.deviceInfo.isTouchInterface()&&TSC.playerConfiguration.getAutoHideControls()){af()}else{bO()}b5(0,true);if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Replay",TSC.mediaList.currentVideoSrc().toString()])}}function y(){if(window.parent.scrollX>0||window.parent.scrollY>0){if(bD){window.parent.scrollTo(0,window.parent.scrollY)}else{var b6=window.parent.scrollY-50;b6<0?0:b6;window.parent.scrollTo(0,b6)}}a5=setTimeout(y,10)}function aC(){$(document).unbind("touchmove");$(document).unbind("gesturestart");$(window.parent).unbind("gesturestart");$(document).unbind("gestureend");$(window.parent).unbind("gestureend")}function bb(){$(document).bind("touchmove",function(b6){if(!(($.contains(bk[0],b6.target))||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()&&TSC.quizController.viewOpen()))){b6.preventDefault()}});$(document).bind("gesturestart",function(b6){b6.preventDefault()});$(window.parent).bind("gesturestart",function(b6){b6.preventDefault()});$(document).bind("gestureend",function(b6){aS()});$(window.parent).bind("gestureend",function(b6){aS()})}function aR(){y();bb();ao.removeClass("tscplayer_inline");ao.attr("width",window.parent.innerWidth);ao.attr("height",window.parent.innerHeight);ao.addClass("tscplayer_fullframe");bM()}function an(){if(window!=window.top){window.parent.scrollTo(0,0)}else{window.scrollTo(0,0)}ao.attr("width",window.parent.innerWidth);ao.attr("height",window.parent.innerHeight);bM()}function af(){if(TSC.deviceInfo.isTouchInterface()){return}$(bm).hover(bO,bj);var b6=null;$(bm).bind("mousemove",function(b7){if(b6==null||(b6.pageX!=b7.pageX&&b6.pageY!=b7.pageY)){b6=b7;bO(true)}});bi()}function aF(){window.clearTimeout(ah);$(bm).unbind("mousemove");$(bm).unbind("mouseenter mouseleave")}function bj(){w(false);if(P||by){return}aI=true;i.stop(true,true);i.fadeOut(p);if(bt){bX.stop(true,true);bX.fadeOut(p)}if(aN!==-1){b3()}}function bO(b6){if(TSC.playerConfiguration.getDisableControls()){return}if(aI){aI=false;i.stop(true,true);i.fadeIn(p);if(bt){bX.stop(true,true);bX.fadeIn(p)}else{w(true)}if(b6){F()}if(bg){bg=false;bM()}}if(b6){bi()}}function w(b6){if(TSC.deviceInfo.isNuevoApp()){if(b6){document.location="nuevo://shownavbar"}else{document.location="nuevo://hidenavbar"}}}function a6(){if(TSC.deviceInfo.isNuevoApp()){var b6=document.location;document.location="nuevo://hasPlayedToEnd?url="+b6}}function bi(){window.clearTimeout(ah);ah=window.setTimeout(bj,x)}function G(b8){var ca=TSC.xmp.getHotspotItemArray();var b6=Number($(b8.target).attr("hotspot_index"));if(ca[b6].jumpFile!==undefined){var b9=TSC.mediaList.getVideoIndexBySrc(ca[b6].jumpFile);TSC.mediaList.setCurrentVideo(b9);ac(TSC.mediaList.currentVideoIndex()+1);K()}else{if(ca[b6].jumpTime!==""){bE=false;bc();aQ[0].currentTime=Number(ca[b6].jumpTime);aQ[0].play()}else{if(ca[b6].targetURL!==""){if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Hotspot_Action",ca[b6].targetURL])}var b7="_parent";if(ca[b6].newWindow!==undefined&&ca[b6].newWindow===true){b7="_blank"}window.open(ca[b6].targetURL,b7)}else{aQ[0].play()}}}}function D(){var b6=Math.round(Number(TSC.xmp.getCaptionFontSize())*aw);b6=b6<TSC.xmp.getMinCaptionFontSize()?TSC.xmp.getMinCaptionFontSize():b6;b6=b6>TSC.xmp.getMaxCaptionFontSize()?TSC.xmp.getMaxCaptionFontSize():b6;$("#currentCaption").css("font-size",b6)}function bR(){if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.setVideoLoadEndTime(new Date().getTime());if(TSC.playerConfiguration.getGoogleAnalyticsID()){_gaq.push(["_trackEvent","HTML5-Video","Video_Loading_Time",TSC.mediaList.currentVideoSrc().toString(),TSC.videoAnalytics.getVideoLoadTime()])}}ab=true}function s(){if(TSC.xmp.hasHotspotItems()){if(TSC.playerConfiguration.getDebugHotspot()){$("#hotspotContainerDebug").css("display","block")}}if(TSC.xmp.hasCaptionItems()){$("#currentCaption").css("font-family",TSC.xmp.getCaptionFontFamily());$("#currentCaption").css("color",TSC.xmp.getCaptionTextColor());D();aY=TSC.playerConfiguration.getCaptionsEnabled()}if(TSC.playerConfiguration.getGoogleAnalyticsID()||TSC.xmp.hasCaptionItems()||TSC.xmp.hasHotspotItems()||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled())||TSC.playerConfiguration.getReportScormComplete()){aQ.bind("timeupdate",X)}aQ.bind("canplay",bR)}function bw(b6,cb,ca,cd,b9){if(!ca){ca=TSC.playerConfiguration.getPlayerWidth()}if(!cd){cd=TSC.playerConfiguration.getPlayerHeight()}if(!b9){b9=false}var b8='<video width="'+ca+'" height="'+cd+'"';if(b9&&TSC.playerConfiguration.getPosterImageSrc()){b8+=' poster="'+TSC.playerConfiguration.getPosterImageSrc()+'"'}if(cb){b8+=" controls"}if(TSC.deviceInfo.isNuevoApp()){b8+=" webkit-playsinline"}b8+=">";var cc=b6.length;for(var b7=0;b7<cc;b7++){b8+='<source src="'+b6[b7]+'" type="'+TSC.mediaList.getMediaMimeType(b6[b7])+'" />'}b8+=TSC.playerConfiguration.getUnableToDisplayContentString()+"</video>";return b8}function bQ(b7){if(h.viewOpen()){h.setViewMessage(b7)}else{var b6=h.getViewMarkup(b7);$(bm).append(b6);h.showView()}}function T(){if(h.viewOpen()){h.removeView()}}function aU(){$("#videoClickToPlay").hide();TSC.quizController.init(TSC.playerConfiguration.getEnforceLinearAssessment())}function a9(){var b7=bw(TSC.mediaList.currentVideoSrc(),false);$("#videoDiv").html(b7);aQ=$("video");aQ[0].addEventListener("loadedmetadata",B,false);if(TSC.playerConfiguration.getPosterImageSrc()){a2()}$("#videoClickToPlay").hide();$("#videoWrapper").show();s();aJ();if(bu){a7()}if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){var b6=$("<div/>");b6.addClass("quizMarker");$(bm).append(b6);TSC.quizMarker.setSize($(".quizMarker").css("width").replace(/px/g,""));TSC.quizMarker.setColor($(".quizMarker").css("color"));$("#markers").show()}bg=true;bM();if(b4){b4.call()}if(TSC.deviceInfo.isTouchInterface()){e()}else{if(TSC.playerConfiguration.getAutoHideControls()){af()}}i.hide();bQ("Please wait... the video is loading.");K()}function K(){bN=false;bE=false;if(TSC.mediaList.isPlaylist()){if(TSC.mediaList.onFirstVideo()){be.removeClass("previous_button_normal");be.addClass("previous_button_disabled")}else{be.addClass("previous_button_normal");be.removeClass("previous_button_disabled")}if(TSC.mediaList.onLastVideo()){A.removeClass("next_button_normal");A.addClass("next_button_disabled")}else{A.addClass("next_button_normal");A.removeClass("next_button_disabled")}if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.clearPercentWatched();aB=0}aQ[0].src=TSC.mediaList.currentVideoSrc()}if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){aQ[0].play()}else{aQ[0].load();aQ[0].play()}if(TSC.videoAnalytics.isEnabled()){TSC.videoAnalytics.setVideoLoadStartTime(new Date().getTime())}if(TSC.playerConfiguration.getGoogleAnalyticsID()&&W){W=false;_gaq.push(["_trackEvent","HTML5-Video","Video_Started",TSC.mediaList.currentVideoSrc().toString()]);_gaq.push(["_trackEvent","HTML5-Video","Video_Percent_Viewed","Viewed: 0 Percent"])}}function bH(b7){switch(b7.type){case"COMPLETE":case"REVIEW":if(bX&&bt){aq(true)}else{w(true)}if(!TSC.deviceInfo.isTouchInterface()){z();if(TSC.playerConfiguration.getAutoHideControls()){af()}}ak();if(b7.type==="REVIEW"&&TSC.playerConfiguration.getEnforceLinearAssessment()){var b6=TSC.quizController.findPrevMarkerTimeForMarker(aW);aW=-1;aQ[0].currentTime=b6/1000;aQ[0].play()}else{aQ[0].play()}break;case"BEGIN":case"SKIP":TSC.quizController.setViewContainer("#videoWrapper");$("#videoClickToPlayLink").unbind("click",aU);if(!aQ){a9()}else{if(ba&&TSC.quizController.getQuizReady()){T();aQ[0].play();if(!TSC.playerConfiguration.getDisableControls()){i.show()}bg=true;bM()}}break;case"ERROR":if(!aQ){a9()}I("#videoWrapper",TSC.quizUiStrings.getErrorMessage(),true);break;case"STATUS":bQ(b7.message);break}}function V(b8,b6){bm=b8;bu=b6;$(bm).html(bB);$(bm).css("background-color",TSC.playerConfiguration.getBackgroundColor());if(TSC.playerConfiguration.getPosterImageSrc()){f(TSC.playerConfiguration.getPosterImageSrc())}$(bm).fadeIn(p);$("#videoClickToPlay").fadeIn(p);t=$("#rewind");g=$("#play");be=$("#previous");A=$("#next");bA=$("#progress");aj=$("#progress_box");i=$("#controls");M=$("#play_progress");o=$("#current_time_display");a1=$("#duration_display");bX=$("#videoSidebar");aV=$("#volume");R=$("#currentCaption");ay=$("#closedCaptionButton");bU=$("#videoWrapper");k=$("#videoClickToReplay");C=$("#searchBox");bo=$("#clearSearchButton");bk=$("#tableOfContentsList");ar=$("#fullscreen_enter_button");O=$("#tocButton");bY=$("#volume_slider_vertical");ae=$("#volume_slider_horizontal");a4=$("#volume_slider_container");L=$("#scrubbar_scrubber");if(TSC.deviceInfo.isIPad()||TSC.deviceInfo.isAndroid()){aV.hide();ar.hide()}if(bu){O.show()}if(TSC.xmp.hasCaptionItems()){ay.show()}if(!TSC.mediaList.isPlaylist()){be.hide();A.hide()}bM();$(window).resize(function(){bg=true;bM()});C.focus(function(){P=true;if(C.val()=="Search..."){C.val("")}if(!TSC.deviceInfo.isTouchInterface()){q();window.clearTimeout(ah)}});C.blur(function(){P=false;if(C.val().replace(/ /g,"")===""){C.val("Search...")}if(!TSC.deviceInfo.isTouchInterface()){z();if(TSC.playerConfiguration.getAutoHideControls()){bi()}}});var b7=TSC.deviceInfo.isIPad()&&!TSC.deviceInfo.isNuevoApp();if((b7||TSC.deviceInfo.isAndroid()||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()))&&!TSC.playerConfiguration.getMobileWebViewCanAutoPlay()){TSC.playerConfiguration.setAutoPlayMedia(false)}if(TSC.playerConfiguration.getAutoPlayMedia()===true){setTimeout(a9,80)}else{if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){$("#videoClickToPlayLink").bind("click",aU)}else{$("#videoClickToPlayLink").bind("click",a9)}}if(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled()){TSC.quizController.setViewContainer(bm);TSC.quizController.setQuestionData(TSC.quizModel);TSC.quizController.setViewControlBarOffset(i.height());TSC.quizController.addEventListener("COMPLETE",bH);TSC.quizController.addEventListener("REVIEW",bH);TSC.quizController.addEventListener("BEGIN",bH);TSC.quizController.addEventListener("SKIP",bH);TSC.quizController.addEventListener("ERROR",bH);TSC.quizController.addEventListener("STATUS",bH)}if(TSC.playerConfiguration.getGoogleAnalyticsID()||TSC.playerConfiguration.getReportScormComplete()||(TSC.xmp.hasQuiz()&&TSC.quizController.quizEnabled())){TSC.videoAnalytics.setEnabled(true);if(TSC.xmp.xmpAvailable()){TSC.videoAnalytics.initPercentWatched(TSC.xmp.getMediaDuration())}}E=true}function aM(ca){var b6={};b6.src=TSC.playerConfiguration.getUnicodeSafeString(TSC.playerConfiguration.getMediaSrc());if(TSC.playerConfiguration.getXMPSrc()){b6.xmp=TSC.playerConfiguration.getXMPSrc()}if(TSC.playerConfiguration.getAutoPlayMedia()){b6.autoPlayJS=TSC.playerConfiguration.getAutoPlayMedia()}if(TSC.playerConfiguration.getAllowRewind()!==-1){b6.allowRewind=TSC.playerConfiguration.getAllowRewind()}if(TSC.playerConfiguration.getConfigurationSrc()){b6.configuration=TSC.playerConfiguration.getConfigurationSrc()}b6.debugHotspots=TSC.playerConfiguration.getDebugHotspot();if(TSC.playerConfiguration.getPosterImageSrc()){b6.poster=TSC.playerConfiguration.getPosterImageSrc()}if(TSC.playerConfiguration.getGoogleAnalyticsID()&&TSC.playerConfiguration.getGoogleAnalyticsID()!=""){b6.analytics=TSC.playerConfiguration.getGoogleAnalyticsID();if(!TSC.playerConfiguration.getGAEventTracking()){b6.trackEvents=false}if(!TSC.playerConfiguration.getGAPageViewTracking()){b6.trackPageViews=false}}b6.advancedSeeking=TSC.playerConfiguration.getAdvancedSeeking();b6.enforceLinearAssessments=TSC.playerConfiguration.getEnforceLinearAssessment();b6.scormComplete=TSC.playerConfiguration.getReportScormComplete();b6.hostingPage=document.location;var b8=TSC.playerConfiguration.getMinFlashPlayerVersion();var b9={};b9.quality="high";b9.bgcolor="#000000";b9.allowscriptaccess="always";b9.allowfullscreen="true";b9.wmode="direct";b9.allowNetworking="all";if(TSC.playerConfiguration.getSwfBase()!=="."){b9.base=TSC.playerConfiguration.getSwfBase()}var b7={};b7.id="tscplayer";b7.name="tscplayer";b7.align="middle";swfobject.embedSWF(TSC.playerConfiguration.getFlashPlayerSwf(),ca.replace(/#/,""),TSC.playerConfiguration.getPlayerWidth(),TSC.playerConfiguration.getPlayerHeight(),b8,TSC.playerConfiguration.getFlashUpdateBootstrapSwf(),b6,b9,b7);swfobject.createCSS(ca,"display:block;text-align:left;");$(ca).show()}function I(b8,b7,b6){b7="<span>"+b7+"</span>";if(b6){b7+="<h4>Click to Close</h4>"}if(E){$("#alertDialog").html(b7);$("#alertDialog").fadeIn(p)}else{$(b8).css("background-color",TSC.playerConfiguration.getBackgroundColor());$(b8).css("height","100%");$(b8).html('<div id="alertDialog">'+b7+"</div>");$(b8).fadeIn(p);$("#alertDialog").show()}if(b6){$("#alertDialog").bind("click",function(){$("#alertDialog").hide();$("#alertDialog").unbind("click")})}}function a8(){var b6="#000";if(TSC.playerConfiguration.getPosterImageSrc()){b6+=" url("+TSC.playerConfiguration.getPosterImageSrc()+") center no-repeat"}$(".appplayer").css({background:b6,position:"relative","border-radius":"5px","background-size":"cover",height:"100%","z-index":"1"})}function aH(){var b6='<div class="appplayer">                <div class="posterFade">                    <div class="topBrdr"><div class="topBrdrInner"></div></div>                    <div class="content">                        <h2>Play with TechSmith Smart Player</h2>                        <a class="appNuevoPlayBtn"></a>                        <a href="" class="appstoreBtn"></a>                    </div>                    <a class="appNativePlayBtn">                       <div class="appNativePlayBtnText">Play Video Only</div>                    </a>                    <div class="btmBrdr"><div class="btmBrdrInner"></div></div>                </div>            </div>';return b6}function a(b6){if(TSC.mediaPlayer.isNuevoAppCapableAndAvailable()){$(b6).after(aH());a8();$(".appplayer").show();$(b6).hide();$(".appNuevoPlayBtn").click(function(){$(".appplayer").hide();$(b6).show();TSC.mediaPlayer.redirectToiPhoneApp()});$(".appNativePlayBtn").click(function(){$(".appplayer").hide();$(b6).show();aQ=$("video");aQ[0].play()});$(".appstoreBtn").click(function(){TSC.mediaPlayer.redirectToiPhoneAppDownload()});if(ao&&ao!==""){ao.removeClass(am);ao.css("width","500px");ao.css("height","334px")}}else{$(b6).fadeIn(p)}}return{initHtml5View:function(b7,b6){ao=TSC.playerConfiguration.getFrameElement();V(b7,b6)},initSimpleHtml5View:function(cd){ao=TSC.playerConfiguration.getFrameElement();if(TSC.mediaList.isPlaylist()){var cc=$(window).innerWidth()-20;if(ao&&ao!==""){ao.addClass("tscplayer_fullframe");ao.css("width",$(window.parent).innerWidth());ao.css("height","100%");cc=$(window.parent).innerWidth()-20}var b7=TSC.mediaList.getMediaList();var cb=b7.length;var ca="<ol>";for(var b8=0;b8<cb;b8++){ca+="<li>"+bw([b7[b8]],true,cc,75,true)+"</li>"}ca+="</ol>";$(cd).html(ca);$(cd).css("background-color","#ffffff");$("body").css("overflow","auto");$(cd).css("overflow","auto");$(cd+" ol").css("list-style","none");$(cd+" ol").css("margin","10px");$(cd+" ol").css("padding","0")}else{$(cd).html(bw(TSC.mediaList.currentVideoSrc(),true,undefined,undefined,true));if(window!=window.top&&TSC.playerConfiguration.getIframeCommunicationsEnabled()){var b6=$(window.parent).innerWidth()-40;var b9=b6*1.33333333333333;ao.css("width",b6);ao.css("height",b9)}}a(cd)},initFlashView:function(b6){ao=TSC.playerConfiguration.getFrameElement();aM(b6)},getFlashId:function(){return aT},displayMessagePanel:function(b7,b6){I(b7,b6,true)},addEventListener:function(b6,b7){if(b6==="VIDEO_START"){b4=b7}else{if(b6==="CAPTION_CHANGE"){b=b7}}},removeEventListener:function(b6){if(b6==="VIDEO_START"){b4=undefined}else{if(b6==="CAPTION_CHANGE"){b=undefined}}}}}();var TSC=TSC||{};TSC.xmp=(function(){$.fn.filterNode=function(Z){return this.find("*").filter(function(){return this.nodeName===Z})};var D;var a;var E="There seems to be a problem accessing certain features of this video. Please contact the video Author.";var z="Certain features in your video are currently disabled due to Local Network Security. These features work correctly when the video is played from a Website or Server.";var Q=false;var V=false;var A=false;var k=false;var U=false;var j=false;var e=false;var r;var g;var Y;var v;var h;var d;var W;var m;var x;var q=null;var w;var B;var M=false;var p="";var S=0;var y="#ffffff";var G="#000000";var n=0.9;var O="Arial, Helvetica, sans-serif;";var l=18;var T={r:255,g:255,b:255};var t=2;var J=144;var K=[];var C=[];var c=[];var b=[];var f=[];function F(aa,Z,ab){if(a){a.call()}}function N(ae,ad,Z){var ac=(ae<<16|ad<<8|Z).toString(16);var aa=6-ac.length;for(var ab=0;ab<aa;ab++){ac="0"+ac}return"#"+ac}function s(Z){$(Z).find("*").filterNode("rdf:Description").each(function(){var ac=Number($(this).attr("xmpDM:startTime"))/1000;var aa=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var ad=$(this).attr("xmpDM:name");var ab=$(this).attr("tscDM:image");var af=$(this).attr("tscDM:imagerect");if(af&&!M){M=true;if(TSC.playerConfiguration.getSwfBase()!=="."){p=TSC.playerConfiguration.getSwfBase()+TSC.playerConfiguration.getUnicodeSafeString(ab)}else{p=TSC.playerConfiguration.getUnicodeSafeString(ab)}}var ae={time:ac,text:ad,file:aa,image:ab,imageRect:af};K.push(ae)})}function i(ab){var aa=$(ab).find("*").length;var ac=ab.find("*").eq(aa-2);if(ac&&ac.length>0&&ac[0].nodeName==="tsc:fgColor"){var ae=ac.attr("xmpG:red");var ad=ac.attr("xmpG:green");var Z=ac.attr("xmpG:blue");y=N(ae,ad,Z)}var af=ab.find("*").eq(aa-1);if(af&&af.length>0&&af[0].nodeName==="tsc:bgColor"){T.r=af.attr("xmpG:red");T.g=af.attr("xmpG:green");T.b=af.attr("xmpG:blue");G=N(T.r,T.g,T.b)}$(ab).find("*").filterNode("rdf:Description").each(function(){var ai=Number($(this).attr("xmpDM:startTime"))/1000;var am=Number($(this).attr("xmpDM:duration"))/1000;var ap=ai+am;var ag=$(this).find("*").filterNode("rdf:li").text();var aj=TSC.textFormatter.rtfToText(ag);var an=$(this).attr("tscDM:valign");var ak=$(this).attr("tscDM:halign");var al;var ah;switch(an){case"top":al="captionVAlignTop";break;default:al="captionVAlignBottom";break}switch(ak){case"left":ah="captionHAlignLeft";break;case"right":ah="captionHAlignRight";break;default:ah="captionHAlignCenter";break}ag=TSC.textFormatter.rtfToHTML(ag);var aq=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));if(aj.replace(/ /g,"")!==""){var ao={start:ai,end:ap,text:aj,htmlText:ag,file:aq,vAlign:an,vAlignClass:al,hAlignClass:ah};C.push(ao)}})}function I(ad,ab){var ag=[];var aa=Number(ad[4])-Number(ad[0]);var ai=Number(ad[5])-Number(ad[1]);var ae=(aa/2)+Number(ad[0]);var ac=(ai/2)+Number(ad[1]);var ah=ad.length;for(var af=0;af<ah;af+=2){var Z=H(Number(ad[af]),Number(ad[af+1]),aa,ai,ae,ac,ab);ag.push(Number(Z[0]));ag.push(Number(Z[1]))}return ag}function H(Z,am,af,ah,ae,ad,ac){ac=ac*Math.PI/180;var an=Z-ae;var al=am-ad;var aj=Math.atan2(al,an);var ai=Math.sqrt(an*an+al*al);var aa=aj+ac;var ak=Math.cos(aa)*ai;var ag=Math.sin(aa)*ai;var ab=[];ab[0]=(ak+ae);ab[1]=(ag+ad);return ab}function P(Z){$(Z).find("*").filterNode("rdf:Description").each(function(){var ab=$(this).attr("xmp:label");var aj=Number($(this).attr("xmpDM:startTime"))/1000;var ag=Number($(this).attr("xmpDM:duration"))/1000;var af=aj+ag;var ac=$(this).attr("tscDM:boundingPoly");var ah=$(this).attr("tscDM:rotate");var ae=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscHS:jumpFile"));var ak=ac.replace(/\;/ig,",");if(ak.lastIndexOf(",")==ak.length-1){ak=ak.substr(0,ak.length-1)}var am=ak.split(",");if(ah!==0){am=I(am,ah)}var al=false;var ad="";var ai="";var aa="";if($(this).attr("tscHS:pause")==="1"){al=true}if($(this).attr("tscHS:jumpTime")!==undefined){ad=Number($(this).attr("tscHS:jumpTime"))/1000}if($(this).attr("tscHS:newWindow")!==undefined){ai=$(this).attr("tscHS:newWindow");ai=(ai==="0"||ai.toLowerCase()==="false")?false:true}if($(this).attr("xmpDM:location")!==undefined){aa=$(this).attr("xmpDM:location")}var ao=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var an={id:ab,start:aj,end:af,pause:al,hasPaused:false,points:am,scaledPoints:am.concat([]),rotation:ah,file:ao,jumpTime:ad,jumpFile:ae,newWindow:ai,targetURL:aa,isActive:false};c.push(an)})}function L(al){var ad=-1;var ab=false;var aj;var ac;var aa;var ae;var ak;var ag=[];var Z;var af;var ai;TSC.quizModel.clearAllQuestions();$(al).find("*").filterNode("rdf:Description").each(function(){var an=$(this).attr("tscIQ:questionSetName");if(an){an=TSC.textSanitizer.htmlEncode(an);if(ab){TSC.quizModel.addQuestion(ad,aj,aa,ae,ag,Z);ab=false;ae=undefined;aa=undefined;ag=[];Z=undefined}var ao=($(this).attr("tscIQ:feedback")==="1");var am=Number($(this).attr("xmpDM:startTime"));ad=TSC.quizModel.addQuestionSet(an,am,ao)}else{ac=$(this).attr("tscIQ:type");if(ac){if(ab){TSC.quizModel.addQuestion(ad,aj,aa,ae,ag,Z);ab=false;ab=false;ae=undefined;aa=undefined;ag=[];Z=undefined}aa=$(this).attr("tscIQ:id");aj=ac;af=$(this).children();ae=TSC.textSanitizer.htmlEncode($(af[0]).text(),true);Z=TSC.textSanitizer.htmlEncode($(af[1]).text(),true);ab=true}else{ak=$(this).attr("tscIQ:orderId");if(ak){af=$(this).children();ai=$(af[0]).text();if(ai){ag.push(TSC.textSanitizer.htmlEncode(ai,true))}}}}});if(ab){TSC.quizModel.addQuestion(ad,aj,aa,ae,ag,Z)}var ah;$(al).find("*").filterNode("rdf:li").each(function(){ah=$(this).attr("xmpDM:name");if(ah){TSC.quizUiStrings.setUiString(ah,$(this).attr("xmpDM:value"))}})}function o(ae){var ad=[];$(ae).find("*").filterNode("rdf:Description").each(function(){var al=Number($(this).attr("xmpDM:startTime"))/1000;var ai=Number($(this).attr("xmpDM:duration"))/1000;var ak=$(this).attr("xmpDM:name");var ah=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var aj={start:al,end:String(Number(al)+Number(ai)),text:ak,file:ah};ad.push(aj)});var aa=ad.length;if(aa<1){return}var ab=ad[0].start;var ag="";var Z=[];var af;for(var ac=0;ac<aa;ac++){if(ad[ac].start!==ab){af={start:ad[ac-1].start,end:ad[ac-1].end,text:ag,items:Z,file:ad[ac-1].file};b.push(af);ag="";Z=[]}ag+=ad[ac].text+" ";Z.push(ad[ac].text);ab=ad[ac].start}af={start:ad[ac-1].start,end:ad[ac-1].end,text:ag,items:Z,file:ad[ac-1].file};b.push(af)}function u(ae){var Z=[];$(ae).find("*").filterNode("rdf:Description").each(function(){var an=Number($(this).attr("xmpDM:startTime"))/1000;var ak=Number($(this).attr("xmpDM:duration"))/1000;var am=$(this).attr("xmpDM:name");var aj=TSC.playerConfiguration.getUnicodeSafeString($(this).attr("tscDM:file"));var al={start:an,end:String(Number(an)+Number(ak)),text:am,file:aj};Z.push(al)});var af=Z.length;if(af<1){return}var ad=Z[0].start;var ah=ad;var ag="";var ac=[];for(var ab=0;ab<af;ab++){if(Z[ab].start-ad>2.5){var ai={start:ah,end:Z[ab-1].end,text:ag,items:ac,file:Z[ab-1].file};ah=Z[ab].start;Z.push(ai);ag="";ac=[]}ag+=Z[ab].text+" ";ac.push(Z[ab].text);ad=Z[ab].start}var aa={start:ah,end:Z[af-1].end,text:ag,items:ac,file:Z[af-1].file};f.push(aa)}function R(){if(Q){s(d)}if(V){i(W)}if(k){L(x)}if(A){P(m)}if(U){o(h)}if(j){u(v)}e=true;if(D){D.call()}}function X(ab){var au=$(ab).find("*").eq(2);r=au.attr("dc:title");Y=au.attr("tscDM:originId");g=au.attr("tscDM:project");S=Number($(ab).find("*").eq(3).attr("xmpDM:value"));q=r;var ac;var ak=$(ab).find("*").length;var an;var av=0;for(ac=4;ac<ak;ac++){if($(ab).find("*").eq(ac)[0].nodeName==="xmpDM:Tracks"){an=$(ab).find("*").eq(ac).children();break}}var ag;var Z=$(an).find("*").length;for(var am=0;am<Z;am++){var aj=$(an).find("*").eq(am);ag=aj.attr("xmpDM:trackType");if(ag!==undefined){switch(ag.toLowerCase()){case"tableofcontents":w=($(aj)).attr("tscDM:tocCellLayout");if(TSC.playerConfiguration.getSwfBase()!=="."){B=TSC.playerConfiguration.getSwfBase()+TSC.playerConfiguration.getUnicodeSafeString(($(aj)).attr("tscDM:image"))}else{B=TSC.playerConfiguration.getUnicodeSafeString(($(aj)).attr("tscDM:image"))}Q=true;d=$(aj);am+=d.find("*").length;break;case"quiz":if(TSC.quizModel){k=true;var ae=($(aj)).attr("tscIQ:quizGuid");var al=($(aj)).attr("tscIQ:reportMethod");var aa=($(aj)).attr("tscIQ:requireUserId")==="1";var at=($(aj)).attr("tscIQ:authoredEmail");var aq=($(aj)).attr("tscIQ:clientId");var ap=($(aj)).attr("tscIQ:quizHash");TSC.quizModel.setProductionMetadata(g,r,Y);TSC.quizModel.setQuizTitle(r);TSC.quizModel.setQuizID(ae);TSC.quizModel.setReportMethod(al);TSC.quizModel.setRequireUserId(aa);TSC.quizModel.setAuthoredEmail(at);TSC.quizModel.setClientId(aq);TSC.quizModel.setQuizHash(ap);TSC.quizModel.setMediaDuration(S)}x=$(aj);am+=x.find("*").length;break;case"caption":var ai=($(aj)).attr("stFnt:fontFamily");if(ai){O=ai}var ar=($(aj)).attr("tscDM:fontSize");if(ar){l=Number(ar)}var ao=($(aj)).attr("tscDM:bgOpacity");if(ao){n=Number(ao)}V=true;W=$(aj);am+=W.find("*").length;break;case"hotspot":A=true;m=$(aj);am+=m.find("*").length;break;case"speechtext":j=true;v=$(aj);am+=v.find("*").length;break;case"screentext":U=true;h=$(aj);am+=h.find("*").length;break}}}ac+=av;var ad;var af;var ah=0;for(ac=ac;ac<ak;ac++){if($(ab).find("*").eq(ac)[0].nodeName==="tscDM:controller"){ad=$(ab).find("*").eq(ac).children();ah=$(ad).find("*").length;break}}$(ad).find("*").filterNode("rdf:li").each(function(){if($(this).attr("xmpDM:name")!=undefined){af=$(this).attr("xmpDM:value").toLowerCase();switch(($(this).attr("xmpDM:name")).toLowerCase()){case"autohide":var ax=af==="true"?true:false;TSC.playerConfiguration.setAutoHideControls(ax);break;case"autoplay":var az=af==="true"?true:false;if(!TSC.playerConfiguration.getAutoPlayMedia()){TSC.playerConfiguration.setAutoPlayMedia(az)}break;case"searchable":var ay=af==="true"?true:false;TSC.playerConfiguration.setIsSearchable(ay);break;case"captionsenabled":var aC=af==="true"?true:false;TSC.playerConfiguration.setCaptionsEnabled(aC);break;case"sidebarenabled":var aB=af==="true"?true:false;TSC.playerConfiguration.setSidebarEnabled(aB);break;case"unicodeenabled":var aw=af==="true"?true:false;TSC.playerConfiguration.setProcessUnicodeNames(aw);break;case"backgroundcolor":var aA=af;if(aA.indexOf("#")===-1){aA="#"+aA}TSC.playerConfiguration.setBackgroundColor(aA);break;case"sidebarlocation":var aD=(af==="right"||af==="r")?"right":"left";TSC.playerConfiguration.setSidebarLocation(aD);break;case"endaction":TSC.playerConfiguration.setEndActionType(af);break;case"endactionparam":TSC.playerConfiguration.setEndActionParam(af);break}}});setTimeout(R,500)}return{loadXMP:function(Z){if(Z){try{$.ajax({type:"GET",url:Z,isLocal:true,dataType:"xml",success:X,error:F})}catch(aa){}}},parseXMP:function(Z){X($.parseXML(Z))},xmpAvailable:function(){return e},getMediaDuration:function(){return S},getTocTitle:function(){return q},getTocImageSrc:function(){return B},getTocCellLayoutType:function(){return w},tocContainsThumbs:function(){return M},getTocThumbImageSrc:function(){return p},getTocItemArray:function(){return K},getHotspotItemArray:function(){return c},getCaptionItemArray:function(){return C},getCaptionFontFamily:function(){return O},getCaptionFontSize:function(){return l},getMinCaptionFontSize:function(){return t},getMaxCaptionFontSize:function(){return J},getCaptionBgOpacity:function(){return n},getCaptionTextColor:function(){return y},getCaptionBgColor:function(){return G},getCaptionBg:function(){return"rgba("+T.r+", "+T.g+", "+T.b+", "+n+")"},getSpeechTextItemArray:function(){return f},getScreenTextItemArray:function(){return b},hasTocItems:function(){return Q},hasCaptionItems:function(){return V},hasHotspotItems:function(){return A},hasQuiz:function(){return k},hasScreenTextItems:function(){return U},hasSpeechTextItems:function(){return j},getLocalErrorMessage:function(){return z},get404ErrorMessage:function(){return E},addEventListener:function(Z,aa){if(Z==="READY"){D=aa}else{if(Z==="ERROR"){a=aa}}},removeEventListener:function(Z,aa){if(Z==="READY"){D=undefined}else{if(Z==="ERROR"){a=undefined}}}}}());var TSC=TSC||{};var _gaq=_gaq||[];TSC.mediaPlayer=(function(){var w="1.0.25";var r="http://www.techsmith.com/redirect.asp?";var i="target=nuevoappdata&product=camtasia&lang=enu&ver=1.0.0&os=mac";var l="false";var d="";var m;var t=TSC.playerConfiguration;var q=TSC.mediaList;var g=TSC.playerView;var h=TSC.xmp;var a=false;function o(){if(TSC.mediaList.getMediaType()!==TSC.mediaType.WEBM&&swfobject.hasFlashPlayerVersion(t.getMinFlashPlayerVersion())){g.initFlashView(m)}else{g.displayMessagePanel(m,TSC.mediaList.getErrorMessage())}}function b(){A();if(TSC.deviceInfo.isLocal()){g.displayMessagePanel(m,TSC.xmp.getLocalErrorMessage())}else{g.displayMessagePanel(m,TSC.xmp.get404ErrorMessage())}}function e(){_gaq.push(["_setAccount",t.getGoogleAnalyticsID()]);if(t.getGAPageViewTracking()){_gaq.push(["_trackPageview",t.getMediaFileName()])}(function(){var C=document.createElement("script");C.type="text/javascript";C.async=true;C.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var B=document.getElementsByTagName("script")[0];B.parentNode.insertBefore(C,B)})()}function v(){if(TSC.deviceInfo.isNuevoApp()){var B=document.querySelector("meta[name=viewport]");if(B){B.setAttribute("content","width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;")}}}function n(){TSC.deviceInfo.lookAtDevice();v();if(!x()){s()}if(t.getGoogleAnalyticsID()&&!swfobject.hasFlashPlayerVersion(t.getMinFlashPlayerVersion())){e()}}function s(){q.addEventListener("READY",j);q.addEventListener("ERROR",o);q.init(t.getMediaSources())}function f(){if(TSC.deviceInfo.isNuevoApp()&&h.xmpAvailable()){var B=document.location;var D=h.getTocTitle();var C=h.getMediaDuration();document.location="nuevo://info?url="+B+"?title="+D+"?duration="+C}}function p(){if(!a){g.removeEventListener("VIDEO_START");$(document).trigger("techsmith.cloud.videofirstclickplay");a=true}}function j(){q.removeEventListener("READY",j);q.removeEventListener("ERROR",o);if(TSC.mediaList.getMediaType()===TSC.mediaType.WEBM){if(TSC.deviceInfo.isFirefox()||TSC.deviceInfo.isChrome()){k()}else{g.displayMessagePanel(m,"This browser does not support WebM video.")}}else{if(TSC.deviceInfo.isIPhoneOrIPod()){g.initSimpleHtml5View(m)}else{if(swfobject.hasFlashPlayerVersion(t.getMinFlashPlayerVersion())){g.initFlashView(m)}else{if(!TSC.deviceInfo.isFirefox()||(TSC.deviceInfo.isFirefox()&&(TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.WEBM)||TSC.mediaList.isMediaTypeAvailable(TSC.mediaType.OGG)))){k()}else{g.displayMessagePanel(m,"This browser does not support the video format needed for playback.  Please install the Flash Player or use a different browser.")}}}}}function k(){if(t.getXMPSrc()){h.addEventListener("READY",A);h.addEventListener("ERROR",b);h.loadXMP(t.getXMPSrc())}else{A()}}function z(B){if(t.getIframeCommunicationsEnabled()){$(parent.document).trigger("techsmith.screencast.captionchanged",B)}}function A(){var B=false;var C=false;if(h.xmpAvailable()){h.removeEventListener("READY",A);h.removeEventListener("ERROR",b);if(h.hasTocItems()||((h.hasCaptionItems()||h.hasScreenTextItems()||h.hasSpeechTextItems())&&t.getIsSearchable())){B=true}if(h.hasCaptionItems()){if(t.getIframeCommunicationsEnabled()){$(parent.document).trigger("techsmith.screencast.hascaptions")}}if(h.hasQuiz()){if(TSC.deviceInfo.isLocal()&&TSC.quizModel.getReportMethod()!==TSC.reportType.NONE){C=true;TSC.quizModel.setReportMethod(TSC.reportType.NONE)}else{if(TSC.quizModel.getReportMethod()===TSC.reportType.SCORM&&TSC.quizModel.getTotalNumberOfGradedQuestionSets()===0){t.setReportScormComplete(true)}}}f()}g.addEventListener("VIDEO_START",p);g.addEventListener("CAPTION_CHANGE",z);g.initHtml5View(m,B);if(C){g.displayMessagePanel(m,TSC.quizUiStrings.getDisabledLocalQuizReporting())}}function c(B){var C=document.createElement("script");C.setAttribute("type","text/javascript");C.setAttribute("src",B);C.async=true;C.onload=function(){s()};if(typeof C!="undefined"){document.getElementsByTagName("head")[0].appendChild(C)}}function x(){if(y()){c(r+i);return true}return false}function u(){return(l==="true")}function y(){if(TSC.deviceInfo.isIPhoneOrIPod()&&TSC.deviceInfo.isRetinaDisplay()&&!TSC.deviceInfo.isNuevoApp()){return true}return false}return{init:function(B){m=B;n()},getVersion:function(){return w},keyValueDataCallback:function(B){l=B.isAppReady;d=B.appDownloadURL},isNuevoAppCapableAndAvailable:function(){return(y()&&u())},redirectToiPhoneAppDownload:function(){if(y()){window.open(d,"_parent")}},jsSeekTime:function(C){var B=$(TSC.playerView.getFlashId());if(B){B[0].jsSeekTime(C)}else{return}},redirectToiPhoneApp:function(){if(y()&&u()){var D=String(document.location);var B=t.getPosterImageSrc();var E=(new Date()).getTime();setTimeout(function(){var F=(new Date()).getTime();if((F-E)<1000){window.open(d,"_parent")}},300);var C="nuevo://import?url=";if(D.indexOf("?")!==-1){C+=D+"&posterImage="+B}else{C+=D+"?posterImage="+B}window.open(C,"_parent")}}}}());